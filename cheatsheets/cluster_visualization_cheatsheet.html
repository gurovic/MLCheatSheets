<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ Cheatsheet ‚Äî 3 –∫–æ–ª–æ–Ω–∫–∏</title>
  <style>
    @media screen { body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; color: #333; background: #fafcff; padding: 10px; 
        min-width: 900px;
      } }
    @media print { body { background: white; padding: 0; } @page { size: A4 landscape; margin: 10mm; } }
        .container {
      max-width: 100%;
    }

    /* Responsive columns: 3 columns on wide screens, fewer on narrow */
    @media (min-width: 900px) {
      .container {
        column-count: 3;
        column-gap: 20px;
      }
    }
    
    @media (min-width: 600px) and (max-width: 899px) {
      .container {
        column-count: 2;
        column-gap: 20px;
      }
    }
    
    @media (max-width: 599px) {
      .container {
        column-count: 1;
      }
    }
    .block { break-inside: avoid; margin-bottom: 1.2em; padding: 12px; background: white; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
    h1 { font-size: 1.6em; font-weight: 700; color: #1a5fb4; text-align: center; margin: 0 0 8px; column-span: all; }
    .subtitle { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 12px; column-span: all; }
    h2 { font-size: 1.15em; font-weight: 700; color: #1a5fb4; margin: 0 0 8px; padding-bottom: 4px; border-bottom: 1px solid #e0e7ff; }
    p, ul, ol { font-size: 0.92em; margin: 0.6em 0; }
    ul, ol { padding-left: 18px; }
    li { margin-bottom: 4px; }
    code { font-family: 'Consolas', 'Courier New', monospace; background-color: #f0f4ff; padding: 1px 4px; border-radius: 3px; font-size: 0.88em; }
    pre { background-color: #f0f4ff; padding: 8px; border-radius: 4px; overflow-x: auto; font-size: 0.84em; margin: 6px 0; }
    pre code { padding: 0; background: none; white-space: pre-wrap; }
    table { width: 100%; border-collapse: collapse; font-size: 0.82em; margin: 6px 0; }
    th { background-color: #e6f0ff; text-align: left; padding: 4px 6px; font-weight: 600; }
    td { padding: 4px 6px; border-bottom: 1px solid #f0f4ff; }
    tr:nth-child(even) { background-color: #f8fbff; }
    blockquote { font-style: italic; margin: 8px 0; padding: 6px 10px; background: #f8fbff; border-left: 2px solid #1a5fb4; font-size: 0.88em; }
  </style>
</head>
<body>
<div class="container">
  <h1>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤</h1>
  <div class="subtitle"></div>
  
  <div class="block">
    <h2>üî∑ 1. Scatter Plot –∫–ª–∞—Å—Ç–µ—Ä–æ–≤</h2>
    <pre><code>import matplotlib.pyplot as plt
import seaborn as sns

plt.figure(figsize=(10,6))
scatter = plt.scatter(X[:,0], X[:,1], c=labels, 
                     cmap='viridis', alpha=0.6)
plt.scatter(centroids[:,0], centroids[:,1],
           c='red', marker='X', s=200, 
           edgecolors='black')
plt.colorbar(scatter)
plt.title('K-means Clustering')
plt.show()</code></pre>

  <div class="block">
    <h2>üî∑ 2. PCA –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</h2>
    <pre><code>from sklearn.decomposition import PCA

# –î–ª—è –¥–∞–Ω–Ω—ã—Ö > 2D
pca = PCA(n_components=2)
X_pca = pca.fit_transform(X)

plt.scatter(X_pca[:,0], X_pca[:,1], c=labels, cmap='tab10')
plt.title(f'PCA (explained var: {pca.explained_variance_ratio_.sum():.2%})')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 3. t-SNE –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
    <pre><code>from sklearn.manifold import TSNE

tsne = TSNE(n_components=2, random_state=42)
X_tsne = tsne.fit_transform(X)

plt.scatter(X_tsne[:,0], X_tsne[:,1], c=labels)
plt.title('t-SNE Clustering Visualization')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 4. Dendrogram –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏</h2>
    <pre><code>from scipy.cluster.hierarchy import dendrogram, linkage

linkage_matrix = linkage(X, method='ward')

plt.figure(figsize=(12, 6))
dendrogram(linkage_matrix)
plt.title('Hierarchical Clustering Dendrogram')
plt.xlabel('Sample index')
plt.ylabel('Distance')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 5. Silhouette Plot</h2>
    <pre><code>from sklearn.metrics import silhouette_samples
import numpy as np

silhouette_vals = silhouette_samples(X, labels)

y_lower = 0
for i in range(n_clusters):
    cluster_silhouette_vals = silhouette_vals[labels == i]
    cluster_silhouette_vals.sort()
    
    size = cluster_silhouette_vals.shape[0]
    y_upper = y_lower + size
    
    plt.fill_betweenx(np.arange(y_lower, y_upper),
                      0, cluster_silhouette_vals,
                      alpha=0.7)
    y_lower = y_upper

plt.axvline(x=silhouette_vals.mean(), color="red", linestyle="--")
plt.title('Silhouette Plot')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 6. 3D –∫–ª–∞—Å—Ç–µ—Ä—ã</h2>
    <pre><code>from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure(figsize=(10, 8))
ax = fig.add_subplot(111, projection='3d')

ax.scatter(X[:,0], X[:,1], X[:,2], c=labels, cmap='viridis')
ax.set_title('3D Clustering')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 7. Heatmap —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π</h2>
    <pre><code>from sklearn.metrics import pairwise_distances

distances = pairwise_distances(X[:100])  # Subset for vis

plt.figure(figsize=(10, 8))
sns.heatmap(distances, cmap='viridis')
plt.title('Pairwise Distances Heatmap')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 8. Elbow Method –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
    <pre><code>inertias = []
K_range = range(1, 11)

for k in K_range:
    kmeans = KMeans(n_clusters=k)
    kmeans.fit(X)
    inertias.append(kmeans.inertia_)

plt.plot(K_range, inertias, 'bx-')
plt.xlabel('Number of clusters')
plt.ylabel('Inertia')
plt.title('Elbow Method')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 9. –†–∞–∑–º–µ—Ä—ã –∫–ª–∞—Å—Ç–µ—Ä–æ–≤</h2>
    <pre><code>import pandas as pd

cluster_sizes = pd.Series(labels).value_counts().sort_index()

plt.bar(cluster_sizes.index, cluster_sizes.values)
plt.xlabel('Cluster')
plt.ylabel('Size')
plt.title('Cluster Sizes')
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 10. –ß–µ–∫-–ª–∏—Å—Ç</h2>
    <ul>
      <li>[ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PCA/t-SNE –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π</li>
      <li>[ ] –ü–æ–∫–∞–∑–∞—Ç—å —Ü–µ–Ω—Ç—Ä–æ–∏–¥—ã</li>
      <li>[ ] –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Silhouette Score</li>
      <li>[ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫–ª–∞—Å—Ç–µ—Ä–æ–≤</li>
      <li>[ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã</li>
      <li>[ ] –î–æ–±–∞–≤–∏—Ç—å –ª–µ–≥–µ–Ω–¥—É –∏ –ø–æ–¥–ø–∏—Å–∏</li>
      <li>[ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –≤—ã—Å–æ–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏</li>
      <li>[ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Plotly)</li>
    </ul>
  </div>


</div>
</div>
</body>
</html>
