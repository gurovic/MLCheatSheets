<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–≤–∞–Ω—Ç–∏–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è Cheatsheet ‚Äî 3 –∫–æ–ª–æ–Ω–∫–∏</title>
  <style>
    @media screen { body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; color: #333; background: #fafcff; padding: 10px; } }
    @media print { body { background: white; padding: 0; } @page { size: A4 landscape; margin: 10mm; } }
        .container {
      max-width: 100%;
    }

    /* Responsive columns: 3 columns on wide screens, fewer on narrow */
    @media (min-width: 900px) {
      .container {
        column-count: 3;
        column-gap: 20px;
      }
    }
    
    @media (min-width: 600px) and (max-width: 899px) {
      .container {
        column-count: 2;
        column-gap: 20px;
      }
    }
    
    @media (max-width: 599px) {
      .container {
        column-count: 1;
      }
    }
    .block { break-inside: avoid; margin-bottom: 1.2em; padding: 12px; background: white; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
    h1 { font-size: 1.6em; font-weight: 700; color: #1a5fb4; text-align: center; margin: 0 0 8px; column-span: all; }
    .subtitle { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 12px; column-span: all; }
    h2 { font-size: 1.15em; font-weight: 700; color: #1a5fb4; margin: 0 0 8px; padding-bottom: 4px; border-bottom: 1px solid #e0e7ff; }
    p, ul, ol { font-size: 0.92em; margin: 0.6em 0; }
    ul, ol { padding-left: 18px; }
    li { margin-bottom: 4px; }
    code { font-family: 'Consolas', 'Courier New', monospace; background-color: #f0f4ff; padding: 1px 4px; border-radius: 3px; font-size: 0.88em; }
    pre { background-color: #f0f4ff; padding: 8px; border-radius: 4px; overflow-x: auto; font-size: 0.84em; margin: 6px 0; }
    pre code { padding: 0; background: none; white-space: pre-wrap; }
    table { width: 100%; border-collapse: collapse; font-size: 0.82em; margin: 6px 0; }
    th { background-color: #e6f0ff; text-align: left; padding: 4px 6px; font-weight: 600; }
    td { padding: 4px 6px; border-bottom: 1px solid #f0f4ff; }
    tr:nth-child(even) { background-color: #f8fbff; }
    blockquote { font-style: italic; margin: 8px 0; padding: 6px 10px; background: #f8fbff; border-left: 2px solid #1a5fb4; font-size: 0.88em; }
    @media print { .container { column-gap: 12px; } .block { box-shadow: none; } code, pre, table { font-size: 0.78em; } h1 { font-size: 1.4em; } h2 { font-size: 1em; } }
  </style>
</head>
<body>

<div class="container">

  <h1>üìà –ö–≤–∞–Ω—Ç–∏–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è</h1>
  <div class="subtitle">üìÖ –Ø–Ω–≤–∞—Ä—å 2026</div>

  <div class="block">
    <h2>üî∑ 1. –û—Å–Ω–æ–≤—ã</h2>
<ul><li><strong>–¶–µ–ª—å</strong>: –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –∫–≤–∞–Ω—Ç–∏–ª–∏, –∞ –Ω–µ —Å—Ä–µ–¥–Ω–µ–µ</li><li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: —Ñ–∏–Ω–∞–Ω—Å—ã, –º–µ–¥–∏—Ü–∏–Ω–∞, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ</li><li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –≤—ã–±—Ä–æ—Å–∞–º</li></ul><blockquote>–ö–≤–∞–Ω—Ç–∏–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –∏ –≥—Ä–∞–Ω–∏—Ü—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.</blockquote>

  <div class="block">
    <h2>üî∑ 2. –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</h2>
<pre><code>œÅ_œÑ(u) = u * (œÑ - I(u < 0))

œÑ = 0.5: –º–µ–¥–∏–∞–Ω–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è
œÑ = 0.9: 90-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å
œÑ = 0.1: 10-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 3. Sklearn —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</h2>
<pre><code>from sklearn.linear_model import QuantileRegressor

model = QuantileRegressor(quantile=0.9)
model.fit(X_train, y_train)
y_pred = model.predict(X_test)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 4. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–≤–∞–Ω—Ç–∏–ª–∏</h2>
<pre><code>quantiles = [0.1, 0.5, 0.9]
models = {}

for q in quantiles:
    qr = QuantileRegressor(quantile=q)
    qr.fit(X, y)
    models[q] = qr</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 5. –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±—É—Å—Ç–∏–Ω–≥</h2>
<pre><code># XGBoost
import xgboost as xgb
params = {
    "objective": "reg:quantileerror",
    "quantile_alpha": 0.9
}
model = xgb.train(params, dtrain)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 6. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
<pre><code>import matplotlib.pyplot as plt

for q in [0.1, 0.5, 0.9]:
    y_pred = models[q].predict(X)
    plt.plot(X, y_pred, label=f"q={q}")
plt.legend()
plt.show()</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 7. –ú–µ—Ç—Ä–∏–∫–∏</h2>
<pre><code>from sklearn.metrics import mean_pinball_loss

loss = mean_pinball_loss(
    y_true, y_pred, alpha=0.9
)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 8. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è</h2>
<table><tr><th>–ó–∞–¥–∞—á–∞</th><th>–ö–≤–∞–Ω—Ç–∏–ª—å</th></tr><tr><td>VaR</td><td>0.05</td></tr><tr><td>–ú–µ–¥–∏–∞–Ω–∞</td><td>0.50</td></tr><tr><td>–í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞</td><td>0.95</td></tr></table>
  </div>

  <div class="block">
    <h2>üî∑ 9. Coverage</h2>
<pre><code>def coverage(y_true, y_pred, q):
    return (y_true <= y_pred).mean()

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å ‚âà q</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 10. Crossing problem</h2>
<p>–ö–≤–∞–Ω—Ç–∏–ª–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è. –†–µ—à–µ–Ω–∏–µ: isotonic regression –¥–ª—è –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç–∏.</p>
  </div>

  <div class="block">
    <h2>üî∑ 11. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å OLS</h2>
<ul><li>OLS: –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç MSE</li><li>Quantile: –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç pinball loss</li><li>–ú–µ–¥–∏–∞–Ω–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è: —Ä–æ–±–∞—Å—Ç–Ω–µ–µ –∫ –≤—ã–±—Ä–æ—Å–∞–º</li></ul>
  </div>

  <div class="block">
    <h2>üî∑ 12. –ß–µ–∫-–ª–∏—Å—Ç</h2>
<ul><li>[ ] –í—ã–±—Ä–∞–Ω—ã –Ω—É–∂–Ω—ã–µ –∫–≤–∞–Ω—Ç–∏–ª–∏</li><li>[ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ coverage</li><li>[ ] –ù–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∫–≤–∞–Ω—Ç–∏–ª–µ–π</li><li>[ ] –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã</li></ul>
  </div>

</div>

</div>
</body>
</html>
