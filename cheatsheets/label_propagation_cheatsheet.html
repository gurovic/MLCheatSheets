<!DOCTYPE html>
<html lang="ru">
<head><meta charset="UTF-8"><title>Label Propagation Cheatsheet ‚Äî 3 –∫–æ–ª–æ–Ω–∫–∏</title>
<style>
@media screen {body {font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;color: #333;background: #fafcff;padding: 10px;}}
@media print {body {background: white;padding: 0;}@page {size: A4 landscape;margin: 10mm;}}
.container {column-count: 3;column-gap: 20px;max-width: 100%;}
.block {break-inside: avoid;margin-bottom: 1.2em;padding: 12px;background: white;border-radius: 6px;box-shadow: 0 1px 3px rgba(0,0,0,0.05);}
h1 {font-size: 1.6em;font-weight: 700;color: #1a5fb4;text-align: center;margin: 0 0 8px;column-span: all;}
.subtitle {text-align: center;color: #666;font-size: 0.9em;margin-bottom: 12px;column-span: all;}
h2 {font-size: 1.15em;font-weight: 700;color: #1a5fb4;margin: 0 0 8px;padding-bottom: 4px;border-bottom: 1px solid #e0e7ff;}
p, ul, ol {font-size: 0.92em;margin: 0.6em 0;}
ul, ol {padding-left: 18px;}
li {margin-bottom: 4px;}
code {font-family: 'Consolas', 'Courier New', monospace;background-color: #f0f4ff;padding: 1px 4px;border-radius: 3px;font-size: 0.88em;}
pre {background-color: #f0f4ff;padding: 8px;border-radius: 4px;overflow-x: auto;font-size: 0.84em;margin: 6px 0;}
pre code {padding: 0;background: none;white-space: pre-wrap;}
table {width: 100%;border-collapse: collapse;font-size: 0.82em;margin: 6px 0;}
th {background-color: #e6f0ff;text-align: left;padding: 4px 6px;font-weight: 600;}
td {padding: 4px 6px;border-bottom: 1px solid #f0f4ff;}
tr:nth-child(even) {background-color: #f8fbff;}
blockquote {font-style: italic;margin: 8px 0;padding: 6px 10px;background: #f8fbff;border-left: 2px solid #1a5fb4;font-size: 0.88em;}
@media print {.container {column-gap: 12px;}.block {box-shadow: none;}code, pre, table {font-size: 0.78em;}h1 {font-size: 1.4em;}h2 {font-size: 1em;}}
</style>
</head>
<body>
<div class="container">
  <h1>üîÑ Label Propagation</h1>
  <div class="subtitle">üìÖ –Ø–Ω–≤–∞—Ä—å 2026</div>
  
  <div class="block">
    <h2>üî∑ 1. –°—É—Ç—å</h2>
    <ul>
      <li><strong>–ó–∞–¥–∞—á–∞</strong>: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –º–∞–ª—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–µ—Ç–æ–∫</li>
      <li><strong>–ò–¥–µ—è</strong>: —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –æ—Ç —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –∫ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–º</li>
      <li><strong>–ì—Ä–∞—Ñ</strong>: —É–∑–ª—ã = –ø—Ä–∏–º–µ—Ä—ã, —Ä–µ–±—Ä–∞ = —Å—Ö–æ–∂–µ—Å—Ç—å</li>
      <li><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–∏–º–µ—Ä—ã ‚Üí –ø–æ—Ö–æ–∂–∏–µ –º–µ—Ç–∫–∏</li>
      <li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: –º–∞–ª–æ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
    </ul>
    <blockquote>Label Propagation –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ —Å—Ö–æ–∂–µ—Å—Ç–∏</blockquote>

  <div class="block">
    <h2>üî∑ 2. –ê–ª–≥–æ—Ä–∏—Ç–º</h2>
    <pre><code># –®–∞–≥–∏:
1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ —Å—Ö–æ–∂–µ—Å—Ç–∏ W
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–∫–∏ Y
3. –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å:
   Y = D‚Åª¬π W Y
   –≥–¥–µ D = diag(W¬∑1)
4. –§–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ
5. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–ª–∏ max_iter</code></pre>
    <p><strong>–§–æ—Ä–º—É–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</strong></p>
    <pre><code>y·µ¢(t+1) = Œ£‚±º w·µ¢‚±º y‚±º(t) / Œ£‚±º w·µ¢‚±º</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 3. Sklearn —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</h2>
    <pre><code>from sklearn.semi_supervised import LabelPropagation
import numpy as np

# –î–∞–Ω–Ω—ã–µ: -1 –¥–ª—è –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö
X = np.array([[0, 0], [1, 1], [2, 2], [3, 3], [4, 4]])
y_train = [0, 1, 0, -1, -1]  # -1 = unlabeled

# –ú–æ–¥–µ–ª—å
lp = LabelPropagation(
    kernel='rbf',
    gamma=0.25,
    n_neighbors=7,
    max_iter=30,
    tol=1e-3
)

# –û–±—É—á–µ–Ω–∏–µ
lp.fit(X, y_train)

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
y_pred = lp.predict(X)
print(f"Predictions: {y_pred}")

# –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ (soft labels)
probs = lp.predict_proba(X)
print(f"Probabilities:\n{probs}")</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 4. –Ø–¥—Ä–∞ (Kernels)</h2>
    <table>
      <tr>
        <th>–Ø–¥—Ä–æ</th>
        <th>–§–æ—Ä–º—É–ª–∞</th>
        <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
      </tr>
      <tr>
        <td>RBF (Gaussian)</td>
        <td>exp(-Œ≥||x-x'||¬≤)</td>
        <td>gamma</td>
      </tr>
      <tr>
        <td>KNN</td>
        <td>1/k –µ—Å–ª–∏ x' –≤ k-NN(x)</td>
        <td>n_neighbors</td>
      </tr>
    </table>
    
    <pre><code># RBF kernel (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
lp_rbf = LabelPropagation(kernel='rbf', gamma=0.25)

# KNN kernel
lp_knn = LabelPropagation(kernel='knn', n_neighbors=7)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 5. Label Spreading</h2>
    <pre><code>from sklearn.semi_supervised import LabelSpreading

# –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç
ls = LabelSpreading(
    kernel='knn',
    n_neighbors=7,
    alpha=0.2,  # Clamping factor
    max_iter=30
)

ls.fit(X, y_train)
y_pred = ls.predict(X)</code></pre>
    
    <p><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä alpha:</strong></p>
    <ul>
      <li>alpha = 0: —Ç–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏</li>
      <li>alpha = 1: –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–∫–∏</li>
      <li>0.2-0.5: –æ–±—ã—á–Ω—ã–π –≤—ã–±–æ—Ä (–±–∞–ª–∞–Ω—Å)</li>
    </ul>
  </div>

  <div class="block">
    <h2>üî∑ 6. –ì—Ä–∞—Ñ —Å—Ö–æ–∂–µ—Å—Ç–∏</h2>
    <pre><code>from sklearn.metrics.pairwise import rbf_kernel
import numpy as np

# RBF similarity matrix
W = rbf_kernel(X, gamma=0.25)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (graph Laplacian)
D = np.diag(W.sum(axis=1))
D_inv_sqrt = np.diag(1.0 / np.sqrt(D.diagonal()))

# –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–∞–ø–ª–∞—Å–∏–∞–Ω
L_norm = D_inv_sqrt @ W @ D_inv_sqrt

# KNN –≥—Ä–∞—Ñ
from sklearn.neighbors import kneighbors_graph

W_knn = kneighbors_graph(X, n_neighbors=5, 
                         mode='distance', 
                         include_self=False)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 7. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è</h2>
    <ul>
      <li><strong>–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤</strong>: –º–∞–ª–æ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</li>
      <li><strong>–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</strong>: –º–∞–ª—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã</li>
      <li><strong>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</strong>: —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è</li>
      <li><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</strong>: collaborative filtering</li>
      <li><strong>–ë–∏–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</strong>: –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –≥–µ–Ω–æ–≤/–±–µ–ª–∫–æ–≤</li>
      <li><strong>Web mining</strong>: –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü</li>
    </ul>
  </div>

  <div class="block">
    <h2>üî∑ 8. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
    <ul>
      <li><code>gamma</code>: —à–∏—Ä–∏–Ω–∞ RBF —è–¥—Ä–∞ (0.1-1.0)
        <ul><li>–ú–µ–Ω—å—à–µ ‚Üí —à–∏—Ä–µ, –±–æ–ª—å—à–µ –≤–ª–∏—è–Ω–∏—è</li></ul>
      </li>
      <li><code>n_neighbors</code>: –¥–ª—è KNN (3-20)
        <ul><li>–ú–µ–Ω—å—à–µ ‚Üí –ª–æ–∫–∞–ª—å–Ω–µ–µ</li></ul>
      </li>
      <li><code>alpha</code>: –≤–µ—Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–∫ (0.1-0.5)</li>
      <li><code>max_iter</code>: –º–∞–∫—Å–∏–º—É–º –∏—Ç–µ—Ä–∞—Ü–∏–π (30-100)</li>
      <li><code>tol</code>: –ø–æ—Ä–æ–≥ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (1e-3)</li>
    </ul>
  </div>

  <div class="block">
    <h2>üî∑ 9. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤</h2>
    <table>
      <tr>
        <th>–ú–µ—Ç–æ–¥</th>
        <th>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å</th>
        <th>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</th>
      </tr>
      <tr>
        <td>Label Propagation</td>
        <td>–ñ–µ—Å—Ç–∫–∏–µ –º–µ—Ç–∫–∏</td>
        <td>–£–≤–µ—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏</td>
      </tr>
      <tr>
        <td>Label Spreading</td>
        <td>–ú—è–≥–∫–∏–µ –º–µ—Ç–∫–∏</td>
        <td>–®—É–º–Ω—ã–µ –º–µ—Ç–∫–∏</td>
      </tr>
      <tr>
        <td>Self-Training</td>
        <td>–ù–µ —Ç—Ä–µ–±—É–µ—Ç –≥—Ä–∞—Ñ</td>
        <td>–ü—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏</td>
      </tr>
    </table>
  </div>

  <div class="block">
    <h2>üî∑ 10. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</h2>
    <ul>
      <li><strong>–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è</strong>: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–∏–∑–Ω–∞–∫–∏</li>
      <li><strong>Gamma</strong>: –Ω–∞—á–Ω–∏—Ç–µ —Å 1/n_features</li>
      <li><strong>K neighbors</strong>: ‚àön –æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
      <li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è</strong>: —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ hold-out</li>
      <li><strong>–ì—Ä–∞—Ñ</strong>: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</li>
      <li><strong>–ë–∞–ª–∞–Ω—Å</strong>: —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –¥–∏—Å–±–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤</li>
    </ul>
  </div>

</div>
</div>
</body>
</html>
