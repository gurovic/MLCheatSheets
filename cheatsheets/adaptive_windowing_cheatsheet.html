<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adaptive Windowing Cheatsheet ‚Äî 3 –∫–æ–ª–æ–Ω–∫–∏</title>
  <style>
    @media screen { body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; color: #333; background: #fafcff; padding: 10px; 
        min-width: 900px;
      } }
    @media print { body { background: white; padding: 0; } @page { size: A4 landscape; margin: 10mm; } }
        .container {
      max-width: 100%;
    }

    /* Responsive columns: 3 columns on wide screens, fewer on narrow */
    @media (min-width: 900px) {
      .container {
        column-count: 3;
        column-gap: 20px;
      }
    }
    
    @media (min-width: 600px) and (max-width: 899px) {
      .container {
        column-count: 2;
        column-gap: 20px;
      }
    }
    
    @media (max-width: 599px) {
      .container {
        column-count: 1;
      }
    }
    .block { break-inside: avoid; margin-bottom: 1.2em; padding: 12px; background: white; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
    h1 { font-size: 1.6em; font-weight: 700; color: #1a5fb4; text-align: center; margin: 0 0 8px; column-span: all; }
    .subtitle { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 12px; column-span: all; }
    h2 { font-size: 1.15em; font-weight: 700; color: #1a5fb4; margin: 0 0 8px; padding-bottom: 4px; border-bottom: 1px solid #e0e7ff; }
    p, ul, ol { font-size: 0.92em; margin: 0.6em 0; }
    ul, ol { padding-left: 18px; }
    li { margin-bottom: 4px; }
    code { font-family: 'Consolas', 'Courier New', monospace; background-color: #f0f4ff; padding: 1px 4px; border-radius: 3px; font-size: 0.88em; }
    pre { background-color: #f0f4ff; padding: 8px; border-radius: 4px; overflow-x: auto; font-size: 0.84em; margin: 6px 0; }
    pre code { padding: 0; background: none; white-space: pre-wrap; }
    table { width: 100%; border-collapse: collapse; font-size: 0.82em; margin: 6px 0; }
    th { background-color: #e6f0ff; text-align: left; padding: 4px 6px; font-weight: 600; }
    td { padding: 4px 6px; border-bottom: 1px solid #f0f4ff; }
    tr:nth-child(even) { background-color: #f8fbff; }
    .good-vs-bad { display: flex; flex-direction: column; gap: 8px; }
    .good-vs-bad div { flex: 1; padding: 6px 8px; border-radius: 4px; }
    .good { background-color: #f0f9f4; border-left: 3px solid #2e8b57; }
    .bad { background-color: #fdf0f2; border-left: 3px solid #d32f2f; }
    .good h3, .bad h3 { margin: 0 0 4px; font-size: 1em; font-weight: 700; }
    .good ul, .bad ul { padding-left: 20px; margin: 0; }
    .good li::before { content: "‚úÖ "; font-weight: bold; }
    .bad li::before { content: "‚ùå "; font-weight: bold; }
    blockquote { font-style: italic; margin: 8px 0; padding: 6px 10px; background: #f8fbff; border-left: 2px solid #1a5fb4; font-size: 0.88em; }
    @media print { .container { column-gap: 12px; } .block { box-shadow: none; } code, pre, table { font-size: 0.78em; } h1 { font-size: 1.4em; } h2 { font-size: 1em; } }
</style>
</head>
<body>
<div class="container">
  <h1>ü™ü Adaptive Windowing</h1>
  <div class="subtitle">üìÖ –Ø–Ω–≤–∞—Ä—å 2026</div>
  <div class="block">
    <h2>üî∑ 1. –°—É—Ç—å</h2>
    <ul>
      <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ</strong>: –∏–∑–º–µ–Ω—è–µ–º—ã–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –¥–ª—è streaming –¥–∞–Ω–Ω—ã—Ö</li>
      <li><strong>Concept drift</strong>: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º–µ–Ω–∏</li>
      <li><strong>–¶–µ–ª—å</strong>: –∞–¥–∞–ø—Ç–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è</li>
      <li><strong>Trade-off</strong>: —Å–∫–æ—Ä–æ—Å—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ vs —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</li>
    </ul>

    </div>
<div class="block">
    <h2>üî∑ 2. –¢–∏–ø—ã concept drift</h2>
    <table>
      <tr><th>–¢–∏–ø</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–ü—Ä–∏–º–µ—Ä</th></tr>
      <tr><td>Sudden</td><td>–†–µ–∑–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ</td><td>–°–º–µ–Ω–∞ —Å–µ–∑–æ–Ω–∞</td></tr>
      <tr><td>Gradual</td><td>–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥</td><td>–¢—Ä–µ–Ω–¥</td></tr>
      <tr><td>Incremental</td><td>–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ</td><td>–°—Ç–∞—Ä–µ–Ω–∏–µ</td></tr>
      <tr><td>Recurring</td><td>–¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ</td><td>–î–µ–Ω—å/–Ω–æ—á—å</td></tr>
    </table>
  </div>

  <div class="block">
    <h2>üî∑ 3. –ú–µ—Ç–æ–¥—ã –æ–∫–æ–Ω</h2>
    <ul>
      <li><strong>Fixed Window</strong>: –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä</li>
      <li><strong>Sliding Window</strong>: —Å–¥–≤–∏–≥ –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–≥</li>
      <li><strong>Landmark Window</strong>: –æ—Ç –Ω–∞—á–∞–ª–∞ –ø–æ—Ç–æ–∫–∞</li>
      <li><strong>Damped Window</strong>: —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∑–∞–±—ã–≤–∞–Ω–∏–µ</li>
      <li><strong>Adaptive Window</strong>: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä</li>
    </ul>
  </div>

  <div class="block">
    <h2>üî∑ 4. ADWIN –∞–ª–≥–æ—Ä–∏—Ç–º</h2>
    <p><strong>Adaptive Windowing:</strong></p>
    <ul>
      <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞</li>
      <li>–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ drift —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</li>
      <li>–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
    </ul>
    
    <pre><code>from river import drift

detector = drift.ADWIN(delta=0.002)

for i, (x, y) in enumerate(stream):
    # –û–±–Ω–æ–≤–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä
    detector.update(error)
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å drift
    if detector.drift_detected:
        print(f"Drift detected at {i}")
        # –°–±—Ä–æ—Å–∏—Ç—å/–ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å
        model = create_new_model()
    
    # –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å
    model.learn_one(x, y)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 5. Exponential Weighted Moving Average</h2>
    <pre><code>EWMA_t = Œ± * x_t + (1-Œ±) * EWMA_{t-1}

Œ± ‚àà (0,1) - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–±—ã–≤–∞–Ω–∏—è</code></pre>
    
    <pre><code>import numpy as np

class EWMADetector:
    def __init__(self, alpha=0.1, threshold=3):
        self.alpha = alpha
        self.threshold = threshold
        self.mean = None
        self.std = None
    
    def update(self, value):
        if self.mean is None:
            self.mean = value
            self.std = 0
        else:
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            delta = value - self.mean
            self.mean += self.alpha * delta
            self.std = (1 - self.alpha) * (self.std + self.alpha * delta**2)**0.5
        
        # Drift detection
        if abs(value - self.mean) > self.threshold * self.std:
            return True  # drift detected
        return False</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 6. Page-Hinkley Test</h2>
    <p><strong>Cumulative sum test:</strong></p>
    <pre><code>from river import drift

ph = drift.PageHinkley(
    min_instances=30,
    delta=0.005,
    threshold=50,
    alpha=1-0.0001
)

for x, y in stream:
    error = abs(y_pred - y)
    ph.update(error)
    
    if ph.drift_detected:
        print("Drift detected!")
        # Reset or retrain</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 7. Sliding Window —Å —Ä–∞–∑–º–µ—Ä–æ–º –ø–æ –∫–∞—á–µ—Å—Ç–≤—É</h2>
    <pre><code>class QualityBasedWindow:
    def __init__(self, min_size=100, max_size=1000, 
                 quality_threshold=0.8):
        self.data = []
        self.min_size = min_size
        self.max_size = max_size
        self.threshold = quality_threshold
    
    def add(self, x, y, pred):
        self.data.append((x, y, pred))
        
        # Compute quality
        if len(self.data) > self.min_size:
            recent_acc = self._compute_recent_accuracy()
            
            # Shrink window if quality is low
            if recent_acc < self.threshold:
                self.data = self.data[-self.min_size:]
            # Grow if quality is high
            elif len(self.data) < self.max_size:
                pass  # Keep growing
        
        # Maintain max size
        if len(self.data) > self.max_size:
            self.data = self.data[-self.max_size:]
    
    def _compute_recent_accuracy(self, n=100):
        recent = self.data[-n:]
        correct = sum(y == pred for _, y, pred in recent)
        return correct / len(recent)</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 8. Ensemble —Å —Ä–∞–∑–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏</h2>
    <ul>
      <li>–ù–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –æ–∫–æ–Ω</li>
      <li>–í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É</li>
      <li>–ü–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã drift</li>
    </ul>
    
    <pre><code>class MultiWindowEnsemble:
    def __init__(self, window_sizes=[100, 500, 1000]):
        self.models = [create_model() for _ in window_sizes]
        self.windows = [[] for _ in window_sizes]
        self.window_sizes = window_sizes
        self.weights = [1.0] * len(window_sizes)
    
    def predict(self, x):
        preds = [m.predict(x) for m in self.models]
        # –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
        weighted = sum(w * p for w, p in zip(self.weights, preds))
        return weighted / sum(self.weights)
    
    def update(self, x, y):
        for i, (model, window, size) in enumerate(
            zip(self.models, self.windows, self.window_sizes)):
            window.append((x, y))
            if len(window) > size:
                window.pop(0)
            
            # –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –Ω–∞ –æ–∫–Ω–µ
            model.fit([x for x, y in window], 
                     [y for x, y in window])
            
            # –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Å –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
            acc = compute_accuracy(model, window)
            self.weights[i] = acc</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 9. –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏</h2>
    <ul>
      <li><strong>Prequential accuracy</strong>: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –æ–±—É—á–µ–Ω–∏–µ–º</li>
      <li><strong>Kappa statistic</strong>: —Å —É—á—ë—Ç–æ–º –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞</li>
      <li><strong>Detection delay</strong>: —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è drift</li>
      <li><strong>False alarm rate</strong>: –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è</li>
    </ul>
    
    <pre><code># Prequential evaluation
from river import metrics

metric = metrics.Accuracy()

for x, y in stream:
    # Predict THEN learn
    y_pred = model.predict_one(x)
    metric.update(y, y_pred)
    model.learn_one(x, y)
    
    if i % 100 == 0:
        print(f"Accuracy: {metric.get()}")</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 10. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h2>
    <div class="good-vs-bad">
      <div class="good">
        <h3>‚úÖ –•–æ—Ä–æ—à–æ</h3>
        <ul>
          <li>Streaming –¥–∞–Ω–Ω—ã–µ</li>
          <li>Concept drift –æ–∂–∏–¥–∞–µ—Ç—Å—è</li>
          <li>–ù—É–∂–Ω–∞ –æ–Ω–ª–∞–π–Ω-–∞–¥–∞–ø—Ç–∞—Ü–∏—è</li>
          <li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å</li>
        </ul>
      </div>
      <div class="bad">
        <h3>‚ùå –ü–ª–æ—Ö–æ</h3>
        <ul>
          <li>–°—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
          <li>–ù–µ—Ç drift</li>
          <li>Batch –æ–±—É—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="block">
    <h2>üî∑ 11. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏</h2>
    <table>
      <tr><th>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</th><th>–Ø–∑—ã–∫</th><th>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</th></tr>
      <tr><td>River</td><td>Python</td><td>Online ML, drift detection</td></tr>
      <tr><td>scikit-multiflow</td><td>Python</td><td>Streaming ML (deprecated)</td></tr>
      <tr><td>MOA</td><td>Java</td><td>Massive Online Analysis</td></tr>
      <tr><td>Spark Streaming</td><td>Scala/Python</td><td>Distributed streaming</td></tr>
    </table>
  </div>

  <div class="block">
    <h2>üî∑ 12. –ß–µ–∫-–ª–∏—Å—Ç</h2>
    <ul>
      <li>[ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –æ–∂–∏–¥–∞–µ–º–æ–≥–æ drift</li>
      <li>[ ] –í—ã–±—Ä–∞—Ç—å –º–µ—Ç–æ–¥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è drift</li>
      <li>[ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
      <li>[ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å prequential evaluation</li>
      <li>[ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å false alarm rate</li>
      <li>[ ] –°—Ä–∞–≤–Ω–∏—Ç—å —Å fixed window baseline</li>
      <li>[ ] –ò–∑–º–µ—Ä–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è</li>
    </ul>

    <h3>üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑—á–∏–∫—É:</h3>
    <blockquote>
      ¬´Adaptive windowing ‚Äî —ç—Ç–æ –∫–∞–∫ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—â–µ–µ—Å—è –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—è—é—Ç—Å—è, 
      –º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–±—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –Ω–æ–≤—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏ 
      –±—ã—Å—Ç—Ä–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è¬ª.
    </blockquote>
  </div>
</div>
</body>
</html>