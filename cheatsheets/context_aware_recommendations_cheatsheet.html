<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Context-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Cheatsheet ‚Äî 3 –∫–æ–ª–æ–Ω–∫–∏</title>
  <style>
    @media screen {
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
        color: #333;
        background: #fafcff;
        padding: 10px;
      }
    }
    @media print {
      body {
        background: white;
        padding: 0;
      }
      @page {
        size: A4 landscape;
        margin: 10mm;
      }
    }

    .container {
      column-count: 3;
      column-gap: 20px;
      max-width: 100%;
    }

    .block {
      break-inside: avoid;
      margin-bottom: 1.2em;
      padding: 12px;
      background: white;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    h1 {
      font-size: 1.6em;
      font-weight: 700;
      color: #1a5fb4;
      text-align: center;
      margin: 0 0 8px;
      column-span: all;
    }

    .subtitle {
      text-align: center;
      color: #666;
      font-size: 0.9em;
      margin-bottom: 12px;
      column-span: all;
    }

    h2 {
      font-size: 1.15em;
      font-weight: 700;
      color: #1a5fb4;
      margin: 0 0 8px;
      padding-bottom: 4px;
      border-bottom: 1px solid #e0e7ff;
    }

    p, ul, ol {
      font-size: 0.92em;
      margin: 0.6em 0;
    }

    ul, ol {
      padding-left: 18px;
    }

    li {
      margin-bottom: 4px;
    }

    code {
      font-family: 'Consolas', 'Courier New', monospace;
      background-color: #f0f4ff;
      padding: 1px 4px;
      border-radius: 3px;
      font-size: 0.88em;
    }

    pre {
      background-color: #f0f4ff;
      padding: 8px;
      border-radius: 4px;
      overflow-x: auto;
      font-size: 0.84em;
      margin: 6px 0;
    }

    pre code {
      padding: 0;
      background: none;
      white-space: pre-wrap;
    }

    blockquote {
      font-style: italic;
      margin: 8px 0;
      padding: 6px 10px;
      background: #f8fbff;
      border-left: 2px solid #1a5fb4;
      font-size: 0.88em;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.88em;
      margin: 6px 0;
    }

    th, td {
      padding: 6px 8px;
      text-align: left;
      border: 1px solid #e0e7ff;
    }

    th {
      background-color: #1a5fb4;
      color: white;
      font-weight: 700;
    }

    tr:nth-child(even) {
      background-color: #f8fbff;
    }

    @media print {
      .container { column-gap: 12px; }
      .block { box-shadow: none; }
      code, pre { font-size: 0.78em; }
      h1 { font-size: 1.4em; }
      h2 { font-size: 1em; }
    }
  </style>
</head>
<body>

<div class="container">

  <h1>üìö Context-aware —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h1>
  <div class="subtitle">üìÖ –Ø–Ω–≤–∞—Ä—å 2026</div>

  <div class="block">
    <h2>üî∑ 1. –°—É—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</h2>
    <p><strong>–£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)</strong></p>
    <ul>
      <li><strong>–ö–æ–Ω—Ç–µ–∫—Å—Ç</strong>: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è</li>
      <li><strong>–£–ª—É—á—à–µ–Ω–∏–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏</strong>: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤</li>
      <li><strong>–¢—Ä–∏ –ø–æ–¥—Ö–æ–¥–∞</strong>: pre-filtering, post-filtering, contextual modeling</li>
      <li><strong>–ú–Ω–æ–≥–æ–º–µ—Ä–Ω–æ—Å—Ç—å</strong>: User √ó Item √ó Context –≤–º–µ—Å—Ç–æ User √ó Item</li>
      <li><strong>–î–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç—å</strong>: –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –º–µ–Ω—è—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</li>
      <li><strong>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è++</strong>: —É—á–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –∫—Ç–æ, –Ω–æ –∏ –∫–æ–≥–¥–∞/–≥–¥–µ/–∫–∞–∫</li>
    </ul>
    <blockquote>
      üí° –§–∏–ª—å–º, –∫–æ—Ç–æ—Ä—ã–π –Ω—Ä–∞–≤–∏—Ç—Å—è –≤–µ—á–µ—Ä–æ–º –¥–æ–º–∞, –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–æ–π—Ç–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –º–µ—Ç—Ä–æ
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 2. –¢–∏–ø—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h2>
    <p><strong>Temporal, Spatial, Social, Device, Mood, Weather</strong></p>
    <ul>
      <li><strong>Temporal (–≤—Ä–µ–º—è)</strong>: –≤—Ä–µ–º—è –¥–Ω—è, –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, —Å–µ–∑–æ–Ω, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏</li>
      <li><strong>Spatial (–º–µ—Å—Ç–æ)</strong>: –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –¥–æ–º/—Ä–∞–±–æ—Ç–∞/–≤ –ø—É—Ç–∏</li>
      <li><strong>Social (—Å–æ—Ü–∏–∞–ª—å–Ω—ã–π)</strong>: –æ–¥–∏–Ω, —Å —Å–µ–º—å–µ–π, —Å –¥—Ä—É–∑—å—è–º–∏, –¥–µ–ª–æ–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞</li>
      <li><strong>Device (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)</strong>: —Å–º–∞—Ä—Ç—Ñ–æ–Ω, –ø–ª–∞–Ω—à–µ—Ç, –¢–í, –¥–µ—Å–∫—Ç–æ–ø</li>
      <li><strong>Mood (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ)</strong>: —Ä–∞–¥–æ—Å—Ç—å, –≥—Ä—É—Å—Ç—å, —Å—Ç—Ä–µ—Å—Å, —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ</li>
      <li><strong>Environmental (–æ–∫—Ä—É–∂–µ–Ω–∏–µ)</strong>: –ø–æ–≥–æ–¥–∞, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —à—É–º</li>
    </ul>
    <blockquote>
      üí° –ö–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —è–≤–Ω—ã–º (GPS) –∏–ª–∏ –Ω–µ—è–≤–Ω—ã–º (–∏–∑–≤–ª–µ–∫–∞–µ–º—ã–º –∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è)
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–µ pre-filtering</h2>
    <p><strong>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–∏</strong></p>
    <ul>
      <li><strong>–ò–¥–µ—è</strong>: –æ—Ç–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–∫—É—â–µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É</li>
      <li><strong>–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏</strong>: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏</li>
      <li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π CF –∞–ª–≥–æ—Ä–∏—Ç–º</li>
      <li><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫</strong>: –º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–¥–∫–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (data sparsity)</li>
      <li><strong>–ü—Ä–∏–º–µ—Ä</strong>: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ñ–∏–ª—å–º—ã, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –≤–µ—á–µ—Ä–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏</li>
      <li><strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong>: –ø—Ä–æ—Å—Ç–∞—è, –±—ã—Å—Ç—Ä–∞—è, –ª–µ–≥–∫–æ –æ–±—ä—è—Å–Ω–∏–º–∞—è</li>
    </ul>
    <blockquote>
      üí° Pre-filtering —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ç–∫–æ —Å–µ–≥–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
    </blockquote>
    <pre><code>import pandas as pd
from surprise import SVD, Dataset, Reader

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
ratings = pd.read_csv('ratings_with_context.csv')
# Columns: user_id, item_id, rating, time_of_day, location

# Pre-filtering: —Ç–æ–ª—å–∫–æ –≤–µ—á–µ—Ä–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
context_filter = (ratings['time_of_day'] == 'evening') & \
                 (ratings['location'] == 'home')
filtered_ratings = ratings[context_filter]

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
reader = Reader(rating_scale=(1, 5))
data = Dataset.load_from_df(
    filtered_ratings[['user_id', 'item_id', 'rating']], 
    reader
)

# SVD –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
trainset = data.build_full_trainset()
model = SVD(n_factors=50)
model.fit(trainset)

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
prediction = model.predict(user_id=123, item_id=456)
print(f"Predicted rating: {prediction.est:.2f}")</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 4. –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–µ post-filtering</h2>
    <p><strong>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –ø–æ—Å–ª–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è</strong></p>
    <ul>
      <li><strong>–ò–¥–µ—è</strong>: —Å—Ç—Ä–æ–∏–º –æ–±—â—É—é –º–æ–¥–µ–ª—å, –∑–∞—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É</li>
      <li><strong>–î–≤–∞ —ç—Ç–∞–ø–∞</strong>: 1) –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, 2) –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</li>
      <li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è</li>
      <li><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫</strong>: –∫–æ–Ω—Ç–µ–∫—Å—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏</li>
      <li><strong>Heuristic filtering</strong>: –ø—Ä–∞–≤–∏–ª–∞ —Ç–∏–ø–∞ "–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–π —Ç—è–∂–µ–ª—É—é –µ–¥—É —É—Ç—Ä–æ–º"</li>
      <li><strong>Model-based filtering</strong>: –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</li>
    </ul>
    <blockquote>
      üí° Post-filtering –ø—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥–µ–ª–∏
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
    <p><strong>–í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –º–æ–¥–µ–ª—å (Tensor Factorization, Factorization Machines)</strong></p>
    <ul>
      <li><strong>–ò–¥–µ—è</strong>: –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª–∏</li>
      <li><strong>Tensor Factorization</strong>: —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ 3D —Ç–µ–Ω–∑–æ—Ä–∞ User√óItem√óContext</li>
      <li><strong>Factorization Machines</strong>: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤</li>
      <li><strong>Neural networks</strong>: deep learning –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π</li>
      <li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –º–æ–¥–µ–ª—å</li>
      <li><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫</strong>: —Å–ª–æ–∂–Ω–µ–µ –æ–±—É—á–∞—Ç—å, —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö</li>
    </ul>
    <blockquote>
      üí° Contextual modeling ‚Äî –Ω–∞–∏–±–æ–ª–µ–µ –º–æ—â–Ω—ã–π, –Ω–æ –∏ —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 6. Tensor Factorization</h2>
    <p><strong>–†–∞–∑–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–Ω–∑–æ—Ä–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å √ó –æ–±—ä–µ–∫—Ç √ó –∫–æ–Ω—Ç–µ–∫—Å—Ç)</strong></p>
    <ul>
      <li><strong>3D —Ç–µ–Ω–∑–æ—Ä</strong>: User √ó Item √ó Context –≤–º–µ—Å—Ç–æ 2D –º–∞—Ç—Ä–∏—Ü—ã</li>
      <li><strong>HOSVD</strong>: Higher-Order Singular Value Decomposition</li>
      <li><strong>CP decomposition</strong>: CANDECOMP/PARAFAC –¥–ª—è —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è</li>
      <li><strong>Tucker decomposition</strong>: –±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —Ä–∞–∑–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–Ω–∑–æ—Ä–∞</li>
      <li><strong>–õ–∞—Ç–µ–Ω—Ç–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã</strong>: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (user, item, context)</li>
      <li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: music/video —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º</li>
    </ul>
    <blockquote>
      üí° Tensor Factorization –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
    </blockquote>
    <pre><code>import numpy as np
from sklearn.decomposition import NMF

# –°–∏–º—É–ª—è—Ü–∏—è 3D —Ç–µ–Ω–∑–æ—Ä–∞: users √ó items √ó contexts
n_users, n_items, n_contexts = 100, 200, 10
tensor = np.random.rand(n_users, n_items, n_contexts)

# Tucker decomposition (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
# –†–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Ç–µ–Ω–∑–æ—Ä –∫–∞–∫ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–Ω—ã—Ö –º–∞—Ç—Ä–∏—Ü

def tucker_als(tensor, ranks, n_iter=10):
    """Approximate Tucker decomposition using ALS"""
    U = np.random.rand(tensor.shape[0], ranks[0])
    V = np.random.rand(tensor.shape[1], ranks[1])
    W = np.random.rand(tensor.shape[2], ranks[2])
    
    for _ in range(n_iter):
        # Update U (—Ñ–∏–∫—Å–∏—Ä—É–µ–º V, W)
        # Update V (—Ñ–∏–∫—Å–∏—Ä—É–µ–º U, W)
        # Update W (—Ñ–∏–∫—Å–∏—Ä—É–µ–º U, V)
        pass  # –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —Ç–µ–Ω–∑–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    
    return U, V, W

# –§–∞–∫—Ç–æ—Ä–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã
U, V, W = tucker_als(tensor, ranks=[10, 15, 3])

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–ª—è user i, item j, context k
def predict(U, V, W, i, j, k):
    return np.dot(U[i], np.dot(V[j], W[k]))

rating = predict(U, V, W, user_id=5, item_id=10, context_id=2)
print(f"Predicted rating: {rating:.2f}")</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 7. Factorization Machines</h2>
    <p><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —É—á–µ—Ç–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</strong></p>
    <ul>
      <li><strong>–§–æ—Ä–º—É–ª–∞</strong>: ≈∑ = w‚ÇÄ + Œ£w·µ¢x·µ¢ + Œ£Œ£‚ü®v·µ¢,v‚±º‚ü©x·µ¢x‚±º</li>
      <li><strong>–ò–¥–µ—è</strong>: –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏–∑–Ω–∞–∫–æ–≤</li>
      <li><strong>–õ–∞—Ç–µ–Ω—Ç–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã</strong>: v·µ¢ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞ (user, item, context)</li>
      <li><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong>: —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –ª—é–±—ã–º —á–∏—Å–ª–æ–º –ø—Ä–∏–∑–Ω–∞–∫–æ–≤</li>
      <li><strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</strong>: –ª–∏–Ω–µ–π–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å O(kn) –≤–º–µ—Å—Ç–æ O(n¬≤)</li>
      <li><strong>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏</strong>: libFM, xLearn, DeepCTR</li>
    </ul>
    <blockquote>
      üí° FM –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ matrix factorization –∏ feature-based –º–æ–¥–µ–ª–µ–π
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 8. –í—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h2>
    <p><strong>Time-of-day, –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, —Å–µ–∑–æ–Ω, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏</strong></p>
    <ul>
      <li><strong>Time-of-day</strong>: —É—Ç—Ä–æ, –¥–µ–Ω—å, –≤–µ—á–µ—Ä, –Ω–æ—á—å ‚Äî —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</li>
      <li><strong>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏</strong>: –±—É–¥–Ω–∏ vs –≤—ã—Ö–æ–¥–Ω—ã–µ ‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
      <li><strong>–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å</strong>: –ª–µ—Ç–æ/–∑–∏–º–∞ –≤–ª–∏—è—é—Ç –Ω–∞ –≤—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–æ–≤/–∫–æ–Ω—Ç–µ–Ω—Ç–∞</li>
      <li><strong>–ü—Ä–∞–∑–¥–Ω–∏–∫–∏</strong>: –æ—Å–æ–±—ã–µ —Å–æ–±—ã—Ç–∏—è –º–µ–Ω—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
      <li><strong>–¢—Ä–µ–Ω–¥—ã</strong>: –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–µ–Ω—è–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º</li>
      <li><strong>Recency</strong>: –Ω–µ–¥–∞–≤–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤–∞–∂–Ω–µ–µ —Å—Ç–∞—Ä—ã—Ö</li>
    </ul>
    <blockquote>
      üí° –ú—É–∑—ã–∫–∞ –¥–ª—è —É—Ç—Ä–µ–Ω–Ω–µ–π –ø—Ä–æ–±–µ–∂–∫–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –º—É–∑—ã–∫–∏ –¥–ª—è –≤–µ—á–µ—Ä–Ω–µ–≥–æ —Ä–µ–ª–∞–∫—Å–∞
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 9. –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h2>
    <p><strong>–õ–æ–∫–∞—Ü–∏—è, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, POI</strong></p>
    <ul>
      <li><strong>–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è</strong>: GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è location-based —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</li>
      <li><strong>POI (Points of Interest)</strong>: —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –º–∞–≥–∞–∑–∏–Ω—ã, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä—è–¥–æ–º</li>
      <li><strong>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ</strong>: –±–ª–∏–∑–æ—Å—Ç—å –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—Å–µ—â–µ–Ω–∏—è</li>
      <li><strong>Mobility patterns</strong>: –¥–æ–º ‚Üí —Ä–∞–±–æ—Ç–∞ ‚Üí —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä</li>
      <li><strong>Check-ins</strong>: –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –º–µ—Å—Ç</li>
      <li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, –æ—Ç–µ–ª–µ–π, –º–∞—Ä—à—Ä—É—Ç–æ–≤</li>
    </ul>
    <blockquote>
      üí° –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –≤ 100 –∫–º –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç –æ–±–µ–¥ —Å–µ–π—á–∞—Å
    </blockquote>
    <pre><code>import pandas as pd
from sklearn.neighbors import NearestNeighbors
from sklearn.preprocessing import StandardScaler

# Location-based —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
venues = pd.read_csv('venues.csv')  # venue_id, lat, lon, category, rating

# –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user_lat, user_lon = 37.7749, -122.4194  # San Francisco

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (haversine formula)
from sklearn.metrics.pairwise import haversine_distances
from math import radians

venues_coords = venues[['lat', 'lon']].values
venues_coords_rad = [[radians(lat), radians(lon)] for lat, lon in venues_coords]
user_coords_rad = [[radians(user_lat), radians(user_lon)]]

distances_km = haversine_distances(user_coords_rad, venues_coords_rad)[0] * 6371

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ä–∞–¥–∏—É—Å–µ 5 –∫–º)
nearby = venues[distances_km < 5].copy()
nearby['distance'] = distances_km[distances_km < 5]

# –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –±–ª–∏–∑–æ—Å—Ç–∏
nearby['score'] = nearby['rating'] / (1 + nearby['distance'])
recommendations = nearby.sort_values('score', ascending=False).head(10)

print(recommendations[['venue_id', 'category', 'rating', 'distance', 'score']])</code></pre>
  </div>

  <div class="block">
    <h2>üî∑ 10. –°–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h2>
    <p><strong>–û–¥–∏–Ω, —Å —Å–µ–º—å–µ–π, —Å –¥—Ä—É–∑—å—è–º–∏, –Ω–∞ —Ä–∞–±–æ—Ç–µ</strong></p>
    <ul>
      <li><strong>–ö–æ–º–ø–∞–Ω–∏—è</strong>: —Å –∫–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä</li>
      <li><strong>–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ</strong>: —Å–≤–∏–¥–∞–Ω–∏–µ, –≤—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏, —Å–µ–º–µ–π–Ω—ã–π —É–∂–∏–Ω</li>
      <li><strong>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã</strong>: –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è vs –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ</li>
      <li><strong>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</strong>: —á—Ç–æ —Å–º–æ—Ç—Ä—è—Ç/—Å–ª—É—à–∞—é—Ç –¥—Ä—É–∑—å—è</li>
      <li><strong>Group recommendations</strong>: –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –≥—Ä—É–ø–ø—ã</li>
      <li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, —Ñ–∏–ª—å–º—ã, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –¥–ª—è –≥—Ä—É–ø–ø</li>
    </ul>
    <blockquote>
      üí° –§–∏–ª—å–º –¥–ª—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ñ–∏–ª—å–º–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å –¥–µ—Ç—å–º–∏
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 11. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</h2>
    <p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, –º—É–∑—ã–∫–∏, —Ñ–∏–ª—å–º–æ–≤</strong></p>
    <ul>
      <li><strong>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</strong>: –≤—Ä–µ–º—è (–æ–±–µ–¥/—É–∂–∏–Ω), –ª–æ–∫–∞—Ü–∏—è, –∫–æ–º–ø–∞–Ω–∏—è, –ø–æ–≥–æ–¥–∞</li>
      <li><strong>–ú—É–∑—ã–∫–∞</strong>: –≤—Ä–µ–º—è –¥–Ω—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—Å–ø–æ—Ä—Ç/—Ä–∞–±–æ—Ç–∞/—Å–æ–Ω), –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</li>
      <li><strong>–§–∏–ª—å–º—ã/—Å–µ—Ä–∏–∞–ª—ã</strong>: –≤—Ä–µ–º—è, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–æ–º–ø–∞–Ω–∏—è, –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏</li>
      <li><strong>E-commerce</strong>: —Å–µ–∑–æ–Ω, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏, –ª–æ–∫–∞—Ü–∏—è, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
      <li><strong>Travel</strong>: —Å–µ–∑–æ–Ω, –±—é–¥–∂–µ—Ç, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏, —Ç–∏–ø –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</li>
      <li><strong>News</strong>: –≤—Ä–µ–º—è, —Ç–µ–∫—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è, –ª–æ–∫–∞—Ü–∏—è, –∏–Ω—Ç–µ—Ä–µ—Å—ã</li>
    </ul>
    <blockquote>
      üí° Spotify –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Ç–∏–ø–∞ "Morning Commute" –∏–ª–∏ "Workout"
    </blockquote>
  </div>

  <div class="block">
    <h2>üî∑ 12. –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h2>
    <p><strong>Implicit vs explicit, privacy concerns</strong></p>
    <ul>
      <li><strong>Explicit (—è–≤–Ω—ã–π)</strong>: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (–æ–ø—Ä–æ—Å—ã, —Ñ–æ—Ä–º—ã)</li>
      <li><strong>Implicit (–Ω–µ—è–≤–Ω—ã–π)</strong>: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä (—Å–µ–Ω—Å–æ—Ä—ã, –ª–æ–≥–∏, GPS)</li>
      <li><strong>GPS/Geolocation</strong>: –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–º–∞—Ä—Ç—Ñ–æ–Ω</li>
      <li><strong>Device sensors</strong>: –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä, –≥–∏—Ä–æ—Å–∫–æ–ø, ambient light</li>
      <li><strong>System logs</strong>: –≤—Ä–µ–º—è, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
      <li><strong>Privacy</strong>: GDPR, —Å–æ–≥–ª–∞—Å–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è</li>
    </ul>
    <blockquote>
      üí° –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å—é ‚Äî –∫–ª—é—á–µ–≤–æ–π –≤—ã–∑–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
    </blockquote>
    <pre><code>import pandas as pd
from datetime import datetime

# –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
def collect_context(user_id, item_id, rating):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏"""
    context = {
        'user_id': user_id,
        'item_id': item_id,
        'rating': rating,
        
        # Temporal context
        'timestamp': datetime.now(),
        'hour': datetime.now().hour,
        'day_of_week': datetime.now().weekday(),
        'is_weekend': datetime.now().weekday() >= 5,
        
        # Device context (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ HTTP headers)
        'device_type': 'mobile',  # –∏–ª–∏ 'desktop', 'tablet'
        'os': 'iOS',
        'screen_size': 'small',
        
        # Location context (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω GPS)
        'latitude': 37.7749,
        'longitude': -122.4194,
        'location_type': 'home',  # home, work, transit
        
        # Session context
        'session_duration': 1200,  # —Å–µ–∫—É–Ω–¥
        'items_viewed': 5,
    }
    
    return context

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
interaction = collect_context(user_id=123, item_id=456, rating=5)
df_interactions = pd.DataFrame([interaction])

print(df_interactions.head())</code></pre>
  </div>

</div>

</div>
</body>
</html>
